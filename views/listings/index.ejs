<% layout("layouts/boilerplate") %>

<body>
  <div class="container-fluid">
    <h2 class="my-4">All Listings</h2>

    <div class="row">
      <% for (let listing of allListings) { %>
        
        <!-- xs: 12 (1 col) | md: 6 (2 cols) | lg: 4 (3 cols) -->
        <div class="col-12 col-md-6 col-lg-4 mb-4 d-flex">
          <!-- d-flex + w-100 makes cards equal width/height in the row -->
           <a href="/listings/<%= listing._id %>" class="listing-link">
          <div class="card w-100 h-100" style="border: none;">
            <img src="<%= listing.image.url %>" class="card-img-top" alt="<%= listing.title %>" style="object-fit: cover; height: 25vh; border-radius: 20px;">
             
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-1"><%= listing.title %></h5>
<p class="card-text mb-3">
  &#8377; <%= listing.price ? listing.price.toLocaleString('en-IN') : "N/A" %> / night
</p>
            
              <!-- optional: add a button aligned to bottom -->
              <div class="mt-auto">
                <a href="/listings/<%= listing._id %>" class="btn btn-danger btn-sm">View</a>
              </div>
            </div>
          </div>
          </a>
        </div>
      <% } %>
    </div>
  </div>
</body>
